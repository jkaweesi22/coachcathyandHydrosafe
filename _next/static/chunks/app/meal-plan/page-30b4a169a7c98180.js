(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[984],{3449:(e,t,a)=>{"use strict";a.d(t,{Ml:()=>s,d5:()=>l,dL:()=>r});let n="coach-cathy";function s(e){try{let t=localStorage.getItem("".concat(n,"-").concat(e));return t?JSON.parse(t):null}catch(e){return null}}function r(e,t){try{localStorage.setItem("".concat(n,"-").concat(e),JSON.stringify(t))}catch(e){}}let l={ROUTINE:"routine",CALENDAR:"calendar",MEAL_PLAN:"meal-plan",TRAINING:"training"}},3457:(e,t,a)=>{"use strict";a.d(t,{S:()=>l});var n=a(5155),s=a(2115),r=a(4269);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("input",{type:"checkbox",className:(0,r.cn)("h-5 w-5 rounded-md border-water-300 text-water-600 focus:ring-water-500",a),ref:t,...s})});l.displayName="Checkbox"},3998:(e,t,a)=>{"use strict";a.d(t,{$:()=>o});var n=a(5155),s=a(2115),r=a(6673),l=a(3101),i=a(4269);let c=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-water-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-gradient-to-r from-water-600 to-water-500 text-white shadow-soft hover:shadow-card hover:scale-[1.02] active:scale-[0.98]",secondary:"bg-water-50 text-water-800 hover:bg-water-100 border border-water-200",outline:"border-2 border-water-300 bg-transparent hover:bg-water-50",ghost:"hover:bg-water-50/80",link:"text-water-600 underline-offset-4 hover:underline"},size:{default:"h-11 px-6 py-2",sm:"h-9 rounded-lg px-4",lg:"h-12 rounded-xl px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:o=!1,...d}=e,u=o?r.DX:"button";return(0,n.jsx)(u,{className:(0,i.cn)(c({variant:s,size:l,className:a})),ref:t,...d})});o.displayName="Button"},4269:(e,t,a)=>{"use strict";a.d(t,{cn:()=>r});var n=a(2821),s=a(5889);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,n.$)(t))}},9113:(e,t,a)=>{Promise.resolve().then(a.bind(a,9603))},9603:(e,t,a)=>{"use strict";a.d(t,{MealPlanGrid:()=>g});var n=a(5155),s=a(2115),r=a(3998),l=a(3457),i=a(3449);let c=JSON.parse('{"tv":{"breakfast":["Oatmeal with banana and honey","Eggs with whole grain toast","Smoothie (banana, spinach, milk, protein)"],"lunch":["Grilled chicken with rice and vegetables","Fish with salad and sweet potato","Lentil soup with bread"],"dinner":["Lean protein with vegetables","Pasta with tomato sauce and greens","Rice and beans with avocado"],"snacks":["Fruit (banana, apple, orange)","Nuts or trail mix","Yogurt"]}}'),o=["breakfast","lunch","dinner","snacks"],d=c.tv,u=["January","February","March","April","May","June","July","August","September","October","November","December"],h=[31,28,31,30,31,30,31,31,30,31,30,31];function m(e,t){return 1===t&&e%4==0?29:h[t]}function x(e,t,a){return"".concat(e,"-").concat(String(t+1).padStart(2,"0"),"-").concat(String(a).padStart(2,"0"))}function p(e,t,a){return a>1?x(e,t,a-1):t>0?x(e,t-1,m(e,t-1)):x(e-1,11,31)}function f(e){let t=0,a=0;return o.forEach(n=>{e[n].forEach(e=>{a++,e.done&&t++})}),{done:t,total:a}}function g(){var e,t,a,c,h;let g=new Date,[b,v]=(0,s.useState)(g.getFullYear()),[w,N]=(0,s.useState)(g.getMonth()),[j,y]=(0,s.useState)(g.getDate()),[k,S]=(0,s.useState)({}),C=x(b,w,j),E=null!=(e=k[C])?e:{breakfast:(null!=(t=d.breakfast)?t:[]).map((e,t)=>({id:"breakfast-".concat(t),text:e,done:!1})),lunch:(null!=(a=d.lunch)?a:[]).map((e,t)=>({id:"lunch-".concat(t),text:e,done:!1})),dinner:(null!=(c=d.dinner)?c:[]).map((e,t)=>({id:"dinner-".concat(t),text:e,done:!1})),snacks:(null!=(h=d.snacks)?h:[]).map((e,t)=>({id:"snacks-".concat(t),text:e,done:!1}))};(0,s.useEffect)(()=>{let e=(0,i.Ml)(i.d5.MEAL_PLAN);S(null!=e?e:{})},[]),(0,s.useEffect)(()=>{(0,i.dL)(i.d5.MEAL_PLAN,k)},[k]);let A=e=>{S(t=>({...t,[C]:e}))},L=m(b,w),O=new Date(b,w,1).getDay(),{done:R,total:z}=f(E),[M,$,D]=C.split("-").map(Number),J=p(M,$-1,D),_=J&&k[J];return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>{0===w?(N(11),v(e=>e-1)):N(e=>e-1)},children:"← Prev"}),(0,n.jsxs)("h2",{className:"min-w-[180px] text-xl font-bold",children:[u[w]," ",b]}),(0,n.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>{11===w?(N(0),v(e=>e+1)):N(e=>e+1)},children:"Next →"})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(r.$,{variant:"secondary",size:"sm",onClick:()=>{let e=new Blob([JSON.stringify(k,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="meal-plan-".concat(b,".json"),a.click(),URL.revokeObjectURL(t)},children:"Export"}),(0,n.jsx)(r.$,{variant:"secondary",size:"sm",onClick:()=>{let e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(a){let e=new FileReader;e.onload=()=>{try{let t=JSON.parse(e.result);S(t)}catch(e){alert("Invalid JSON file")}},e.readAsText(a)}},e.click()},children:"Import"})]})]}),(0,n.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-soft",children:[(0,n.jsx)("div",{className:"grid grid-cols-7 gap-1 text-center text-sm font-medium text-slate-600",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,n.jsx)("div",{children:e},e))}),(0,n.jsxs)("div",{className:"mt-2 grid grid-cols-7 gap-1",children:[Array.from({length:O},(e,t)=>(0,n.jsx)("div",{},"empty-".concat(t))),Array.from({length:L},(e,t)=>{let a=t+1,s=x(b,w,a),r=k[s],{done:l,total:i}=r?f(r):{done:0,total:0},c=a===j;return(0,n.jsxs)("button",{type:"button",onClick:()=>y(a),className:"flex flex-col items-center rounded-xl p-2 text-sm transition-colors ".concat(c?"bg-water-500 text-white ring-2 ring-water-600":"hover:bg-water-50"),children:[(0,n.jsx)("span",{className:"font-medium",children:a}),i>0&&(0,n.jsxs)("span",{className:"text-xs ".concat(c?"text-white/90":"text-slate-500"),children:[l,"/",i]})]},s)})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-4",children:[(0,n.jsxs)("h3",{className:"text-xl font-semibold text-slate-900",children:[u[w]," ",j,", ",b]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,n.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>{let[e,t,a]=C.split("-").map(Number),n=p(e,t-1,a);n&&k[n]&&A(Object.fromEntries(o.map(e=>[e,k[n][e].map((t,a)=>({...t,id:"".concat(e,"-").concat(Date.now(),"-").concat(a),done:!1}))])))},disabled:!_,title:_?"Copy yesterday's meal plan":"No data for yesterday",children:"Copy from yesterday"}),(0,n.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>{S(e=>{let t={...e};return delete t[C],t})},className:"text-slate-500",children:"Reset to default"})]})]}),(0,n.jsxs)("p",{className:"mb-4 text-sm text-slate-600",children:[R," of ",z," meals complete"]}),(0,n.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:o.map(e=>{let t=E[e],a=t.filter(e=>e.done).length,s=t.length;return(0,n.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-soft",children:[(0,n.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,n.jsx)("h4",{className:"text-lg font-semibold capitalize text-slate-900",children:e}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsxs)("span",{className:"text-sm text-slate-500",children:[a,"/",s]}),(0,n.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>(e=>{let t={...E};t[e]=[...t[e],{id:"item-".concat(Date.now()),text:"New item",done:!1}],A(t)})(e),children:"+ Add"})]})]}),(0,n.jsx)("ul",{className:"space-y-2",children:t.map(t=>(0,n.jsxs)("li",{className:"flex items-center gap-3 rounded-xl border border-slate-100 p-3 transition-colors hover:bg-water-50/30",children:[(0,n.jsx)(l.S,{checked:t.done,onChange:()=>((e,t)=>{let a={...E};a[e]=a[e].map(e=>e.id===t?{...e,done:!e.done}:e),A(a)})(e,t.id),className:"shrink-0"}),(0,n.jsx)("input",{type:"text",value:t.text,onChange:a=>((e,t,a)=>{let n={...E};n[e]=n[e].map(e=>e.id===t?{...e,text:a}:e),A(n)})(e,t.id,a.target.value),className:"flex-1 rounded-lg border-0 bg-transparent text-sm focus:ring-2 focus:ring-water-400 ".concat(t.done?"line-through text-slate-500":"text-slate-800")}),(0,n.jsx)(r.$,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 text-slate-400 hover:text-red-500",onClick:()=>((e,t)=>{let a={...E};a[e]=a[e].filter(e=>e.id!==t),A(a)})(e,t.id),"aria-label":"Remove item",children:"\xd7"})]},t.id))})]},e)})})]})]})}}},e=>{e.O(0,[125,441,255,358],()=>e(e.s=9113)),_N_E=e.O()}]);